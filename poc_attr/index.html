<!DOCTYPE html>

<html>
   <head>
      <title>Home</title>
      <!--<script type="text/javascript" src="./json/data.json"></script>-->
      <!--<<meta http-equiv="refresh" content="1000">-->
      <script type = "text/javascript">
	  var allText;
          function readTextFile(file){
    	  var rawFile = new XMLHttpRequest();
    	  rawFile.open("GET", file, false);
    	  rawFile.onreadystatechange = function (){
          	if(rawFile.readyState === 4){
            		if(rawFile.status === 200 || rawFile.status == 0){
                		allText = rawFile.responseText;
                		<!--alert(allText);-->
				<!--return allText;-->
            		}
          	}
    	  }
    	  rawFile.send(null);
	  }
	  
	  

	  function displayNextImage() {
              x = (x === images.length - 1) ? 0 : x + 1;
              document.getElementById("before").src = images[x];
          }

          function displayPreviousImage() {
              x = (x <= 0) ? images.length - 1 : x - 1;
              document.getElementById("before").src = images[x];
          }
	  
	  function displayNextImageRaw() {
              r = (r === rawImages.length - 1) ? 0 : r + 1;
              document.getElementById("after").src = rawImages[r];
          }

          function displayPreviousImageRaw() {
              r = (r <= 0) ? rawImages.length - 1 : r - 1;
              document.getElementById("after").src = rawImages[r];
          }

          function startTimer() {
              setInterval(displayNextImage, 500);
	      setInterval(displayNextImageRaw, 500);

          }
	  function SortLowToHigh(a, b) {
	  	if (a > b) return 1;
	  	else if (a < b) return -1;
		else return 0;
	  }
	  var reA = /[^a-zA-Z]/g;
	  var reN = /[^0-9]/g;
	  function sortAlphaNum(a,b) {
    	  var aA = a.replace(reA, "");
    	  var bA = b.replace(reA, "");
    	  if(aA === bA) {
          	var aN = parseInt(a.replace(reN, ""), 10);
          	var bN = parseInt(b.replace(reN, ""), 10);
        	return aN === bN ? 0 : aN > bN ? 1 : -1;
    	  } 
	  else {
          	return aA > bA ? 1 : -1;
    	  }
	  }

	  <!--readTextFile("list.txt");
	  var images = [], x = -1;      
          var allTextSplit = allText.split(",");
	  for(var i=0; i < allTextSplit.length-1; i++){
                images[i]=allTextSplit[i];
          }-->
	
	  <!--images.sort(SortLowToHigh);-->
	  <!--images.sort(sortAlphaNum);-->
	  <!--alert(images);-->
	  
	  <!--readTextFile("raw.txt");
          var rawImages = [], r = -1;      
          var rawAllTextSplit = allText.split(",");
          for(var i=0; i < rawAllTextSplit.length-1; i++){
                rawImages[i]=rawAllTextSplit[i];
          }-->

      </script>
      <SCRIPT type="text/javascript">
<!--
var gazouSet = 1;
gazou = new Array();
for(;;) {
gazou[i] = new Image() ;
gazou[i].src =  i + "/static/output_0_.jpg" ;
}
function Para() {
document.animation.src = gazou[gazouSet].src;
gazouSet++;
if(gazouSet > 379) {
gazouSet = 1;
}
setTimeout("Para()",66);
}

//-->
</SCRIPT>
   </head>

   <body>
	<!--<img id="raw" src="/static/raw.jpg" alt="raw.jpg">-->
   	<img id="before" src="/static/before0.jpg" alt="before0.jpg">  
	<img id="after" src="/static/output_0_.jpg" alt="output_0_.jpg">
	<br><br>
	<a href= "/start/"><p style="text-align:center">Start</p></a>
	<a href= "/reset/"><p style="text-align:center">Reset</p></a>
	
	<!--
	<form name="start" action="" method ='POST'>		
		<input type="submit" name="start" value="start">
		<input type ="submit" name="reset" value="reset">
	</form>
        <form name="reset" action="" method ='POST'>
                <input type="submit" name="reset" value="reset">
                <input type ="submit" name="reset" value="reset">
        </form>
	-->

   </body>


   <!--<body onload = "startTimer()">
       <img id="imgRaw" src="/var/www/html/attr_poc_scripts/test_output/before0.jpg" height="400" width="640"/>
       <img id="img" src="/var/www/html/attr_poc_scripts/test_output/output_0_.jpg" height="400" width="640"/>
       <p id="value"></p>
       <button type="button" onclick="displayPreviousImage()">Previous</button>
       <button type="button" onclick="displayNextImage()">Next</button>
   </body>
   -->
</html>

